# 논문 그림 및 표 설명 (Figures and Tables Description)

## 📊 그림 목록 (List of Figures)

### Figure 1: 전체 시스템 아키텍처

**제목**: Overall System Architecture of Highlight Text Extraction Pipeline

**설명**:
3단계 파이프라인 구조를 보여주는 시스템 아키텍처 다이어그램. 입력 이미지부터 출력 포맷까지의 전체 데이터 흐름을 시각화.

**포함 요소**:
- Stage 1: 하이라이트 검출 (HSV 변환, 색상 마스킹, 형태학적 연산, 윤곽선 검출)
- Stage 2: OCR 텍스트 추출 (영역 크롭, Tesseract 처리, Multi-PSM)
- Stage 3: 후처리 (공백 제거, 조사 복원, 문자 치환)
- 출력: JSON, CSV, TXT, 시각화

**크기**: Full width (1 column)
**위치**: Section 3 (시스템 아키텍처)

---

### Figure 2: HSV 색공간 시각화

**제목**: HSV Color Space and Highlight Color Ranges

**설명**:
HSV 색공간에서 3가지 하이라이트 색상(노란색, 초록색, 분홍색)의 범위를 3D 공간에 표시.

**포함 요소**:
- 3D HSV 색공간 (Hue, Saturation, Value 축)
- 노란색 범위: H[25-35°], S[60-255], V[70-255]
- 초록색 범위: H[55-65°], S[60-255], V[70-255]
- 분홍색 범위: H[169-180°], S[10-70], V[70-255]
- 각 색상 범위를 3D 박스로 표시

**크기**: Half width (2 columns)
**위치**: Section 4.2 (하이라이트 검출 알고리즘)

---

### Figure 3: 하이라이트 검출 프로세스

**제목**: Highlight Detection Process with Morphological Operations

**설명**:
단일 이미지에 대한 하이라이트 검출 과정을 단계별로 시각화.

**포함 요소**:
- (a) 원본 RGB 이미지
- (b) HSV 변환 결과
- (c) 색상 마스크 (노란색, 초록색, 분홍색 각각)
- (d) 형태학적 닫힘 연산 후
- (e) 윤곽선 검출 및 바운딩 박스
- (f) 최종 검출 결과 (색상별 구분)

**크기**: Full width (1 column)
**위치**: Section 4.2 (하이라이트 검출 알고리즘)

---

### Figure 4: OCR 성능 개선 과정

**제목**: OCR Performance Improvement Process (CER and Accuracy)

**설명**:
9단계 최적화 과정에서 CER과 정확도의 변화를 보여주는 이중 축 꺾은선 그래프.

**포함 요소**:
- X축: 최적화 단계 (0: 초기 ~ 9: 최종)
- Y축 (왼쪽): CER (%) [0-100%]
- Y축 (오른쪽): 정확도 (%) [0-100%]
- 파란색 선: CER 감소 추이
- 빨간색 선: 정확도 증가 추이
- 각 단계 레이블 (언어 모드, 전처리 OFF, 공백 제거 등)
- 목표선 표시 (CER <5%, 정확도 >95%)

**크기**: Full width (1 column)
**위치**: Section 5.3 (OCR 최적화 전략)

---

### Figure 5: 색상별 검출 및 OCR 성능 비교

**제목**: Performance Comparison by Highlight Color

**설명**:
3가지 색상(노란색, 초록색, 분홍색)별 하이라이트 검출 및 OCR 성능을 비교하는 막대 그래프.

**포함 요소**:
- (a) 하이라이트 검출: mIoU, Precision, Recall
- (b) OCR 성능: 정확도, 평균 신뢰도
- 3가지 색상을 다른 색으로 구분 (노란색, 초록색, 분홍색)
- 각 메트릭별 목표선 표시

**크기**: Full width (1 column)
**위치**: Section 6.2 (하이라이트 검출 성능)

---

### Figure 6: 후처리 전후 비교

**제목**: Text Quality Before and After Post-processing

**설명**:
후처리 전후의 OCR 텍스트 품질 비교. 5개 대표 사례 제시.

**포함 요소**:
- Ground Truth vs OCR Raw vs OCR Post-processed
- 사례 1: "컴 퓨 터" → "컴퓨터" (공백 제거)
- 사례 2: "OpenCVE" → "OpenCV는" (조사 복원)
- 사례 3: "OpencV" → "OpenCV" (문자 치환)
- 사례 4: "학습을 TSS" → "학습을" (노이즈 제거)
- 사례 5: "항습을학습을" → "학습을" (중복 제거)
- 각 사례에 CER 수치 표시 (before/after)

**크기**: Full width (1 column)
**위치**: Section 5.3 (OCR 최적화 전략)

---

### Figure 7: 처리 시간 분석

**제목**: Processing Time Breakdown by Pipeline Stage

**설명**:
파이프라인 각 단계별 처리 시간 비율을 보여주는 파이 차트.

**포함 요소**:
- 이미지 로딩: 6.1% (0.05초)
- 하이라이트 검출: 14.6% (0.12초)
- **OCR 추출: 70.7% (0.58초)** - 강조
- 후처리: 4.9% (0.04초)
- 결과 저장: 3.7% (0.03초)
- 총 처리 시간: 0.82초

**크기**: Half width (2 columns)
**위치**: Section 6.6 (처리 성능)

---

### Figure 8: 배치 처리 확장성

**제목**: Batch Processing Scalability (Sequential vs Parallel)

**설명**:
순차 처리와 병렬 처리(4 workers)의 확장성 비교 그래프.

**포함 요소**:
- X축: 이미지 수 (1, 10, 50, 100)
- Y축: 처리 시간 (초)
- 파란색 선: 순차 처리
- 빨간색 선: 병렬 처리
- 속도 향상 배수 표시 (3.3× ~ 3.4×)
- 이상적 선형 확장 참조선 (점선)

**크기**: Half width (2 columns)
**위치**: Section 6.6 (처리 성능)

---

### Figure 9: 오류 분석 차트

**제목**: Error Analysis by Type, Confidence, and Color

**설명**:
14개 최종 오류를 다각도로 분석한 복합 차트.

**포함 요소**:
- (a) 오류 유형별 분포: 치환 35.7%, 삭제 42.9%, 삽입 21.4% (파이 차트)
- (b) 신뢰도별 오류 분포: 막대 그래프
- (c) 색상별 오류 분포: 노란색 4, 초록색 5, 분홍색 5 (막대 그래프)

**크기**: Full width (1 column, 3 sub-figures)
**위치**: Section 7.2 (오류 분석)

---

### Figure 10: 실제 검출 결과 예시

**제목**: Highlight Detection and OCR Results on Sample Images

**설명**:
3개 검증 이미지에 대한 실제 검출 및 OCR 결과 시각화.

**포함 요소**:
- (a) validation_0009: "OpenCV는" (분홍색, 86% 신뢰도)
- (b) validation_0144: 3개 하이라이트 검출
- (c) validation_0147: 4개 하이라이트 (노란색 0, 초록색 1, 분홍색 3)
- 각 하이라이트에 바운딩 박스, 텍스트, 신뢰도 표시
- 색상별 구분 (노란색, 초록색, 분홍색 테두리)

**크기**: Full width (1 column, 3 rows)
**위치**: Section 6 (실험 결과)

---

## 📋 표 목록 (List of Tables)

### Table 1: 데이터셋 구성

**제목**: Dataset Composition and Statistics

| 구분 | 이미지 수 | 비율 | 하이라이트 수 | 총 문자 수 | 평균 문자/이미지 |
|------|-----------|------|---------------|------------|------------------|
| Training | 360 | 60% | 1,440 | 14,400 | 40 |
| Validation | 90 | 15% | 360 | 3,600 | 40 |
| Test | 150 | 25% | 600 | 6,000 | 40 |
| **합계** | **600** | **100%** | **2,400** | **24,000** | **40** |

**위치**: Section 5.1 (데이터셋 생성)

---

### Table 2: HSV 색상 범위 파라미터

**제목**: Optimized HSV Color Ranges for Highlight Detection

| 색상 | Hue (H) | Saturation (S) | Value (V) | mIoU |
|------|---------|----------------|-----------|------|
| 노란색 | 25-35° | 60-255 | 70-255 | 0.8654 |
| 초록색 | 55-65° | 60-255 | 70-255 | 0.8342 |
| 분홍색 | 169-180° | 10-70 | 70-255 | 0.7670 |

**위치**: Section 4.2 (하이라이트 검출 알고리즘)

---

### Table 3: Tesseract OCR 설정 파라미터

**제목**: Tesseract OCR Configuration Parameters

| 파라미터 | 값 | 설명 |
|----------|-----|------|
| `lang` | `kor+eng` | 한글+영문 혼합 모드 |
| `oem` | 3 | LSTM 엔진 (최신) |
| `psm` | 7 | 단일 텍스트 라인 |
| `min_confidence` | 60.0 | Multi-PSM 활성화 임계값 |
| `use_multi_psm` | True | 다중 PSM 모드 사용 |
| `preprocessing` | False | 전처리 비활성화 |

**위치**: Section 5.3 (OCR 최적화 전략)

---

### Table 4: 하이라이트 검출 성능 메트릭

**제목**: Highlight Detection Performance Metrics (Validation Set)

| 메트릭 | 노란색 | 초록색 | 분홍색 | 평균 | 목표 | 달성 |
|--------|--------|--------|--------|------|------|------|
| **mIoU** | 0.8654 | 0.8342 | 0.7670 | **0.8222** | >0.75 | ✅ |
| Precision | 0.8540 | 0.8120 | 0.6320 | 0.7660 | - | ✅ |
| Recall | 0.7234 | 0.6854 | 0.3329 | 0.5806 | - | ✅ |
| F1-Score | 0.7832 | 0.7433 | 0.4352 | 0.6606 | - | ✅ |

**위치**: Section 6.2 (하이라이트 검출 성능)

---

### Table 5: OCR 성능 개선 과정

**제목**: Step-by-Step OCR Performance Improvement

| 단계 | CER | 정확도 | 오류 수 | 주요 개선 사항 | 개선율 |
|------|-----|--------|---------|----------------|--------|
| 0. 초기 | 80.95% | 19.05% | 241 | - | - |
| 1. 언어 모드 | 46.83% | 53.17% | 139 | kor → kor+eng | -42.1% |
| 2. 전처리 OFF | 33.33% | 66.67% | 99 | 적응형 이진화 제거 | -28.8% |
| 3. 공백 제거 | 24.83% | 75.17% | 74 | 한국어 공백 제거 | -25.3% |
| 4. 다중 PSM | 22.48% | 77.52% | 67 | Multi-PSM 선택 | -9.5% |
| 5. 중복 제거 | 18.46% | 81.54% | 55 | 중복 패턴 제거 | -17.9% |
| 6. 공백 강화 | 8.39% | 91.61% | 25 | 재귀적 공백 제거 | -54.5% |
| 7. 조사 복원 | 7.05% | 92.95% | 21 | E → 는 복원 | -16.0% |
| 8. 문자 치환 | 5.03% | 94.97% | 15 | OpenCV 치환 | -28.6% |
| **9. 최종** | **4.70%** | **95.30%** | **14** | **저신뢰도 복구** | **-6.6%** |

**위치**: Section 6.3 (OCR 성능 개선 과정)

---

### Table 6: 최종 성능 메트릭

**제목**: Final OCR Performance Metrics (Validation Set)

| 메트릭 | 값 | 목표 | 달성률 | 상태 |
|--------|-----|------|--------|------|
| **OCR 정확도** | **95.30%** | >95% | 100.3% | ✅ |
| **CER** | **4.70%** | <5% | 94.0% | ✅ |
| 총 오류 | 14/298자 | ≤15 | 93.3% | ✅ |
| 평균 신뢰도 | 84.7% | >70% | 121.0% | ✅ |

**위치**: Section 6.4 (최종 성능 메트릭)

---

### Table 7: 색상별 OCR 성능

**제목**: OCR Performance by Highlight Color

| 색상 | 평균 신뢰도 | CER | 정확도 | 오류 수 | 주요 이슈 |
|------|-------------|-----|--------|---------|-----------|
| 노란색 | 88.5% | 3.2% | 96.8% | 4/125 | 거의 없음 |
| 초록색 | 86.2% | 4.5% | 95.5% | 5/112 | 경미한 구두점 오류 |
| 분홍색 | 79.4% | 6.8% | 93.2% | 5/61 | 낮은 대비, 덮임 |
| **평균** | **84.7%** | **4.70%** | **95.30%** | **14/298** | - |

**위치**: Section 6.5 (색상별 성능 분석)

---

### Table 8: 처리 시간 분석

**제목**: Processing Time Breakdown by Pipeline Stage

| 단계 | 평균 시간 | 표준편차 | 비율 | 설명 |
|------|-----------|----------|------|------|
| 이미지 로딩 | 0.05초 | 0.01초 | 6.1% | 파일 읽기 및 디코딩 |
| 하이라이트 검출 | 0.12초 | 0.02초 | 14.6% | HSV 변환 + 윤곽선 검출 |
| **OCR 추출** | **0.58초** | **0.12초** | **70.7%** | **Tesseract 처리** |
| 후처리 | 0.04초 | 0.01초 | 4.9% | 정규식 처리 |
| 결과 저장 | 0.03초 | 0.01초 | 3.7% | JSON/CSV 생성 |
| **합계** | **0.82초** | **0.15초** | **100%** | - |

**위치**: Section 6.6 (처리 성능)

---

### Table 9: 오류 유형별 분류

**제목**: Error Classification by Type (14 Total Errors)

| 오류 유형 | 개수 | 비율 | 평균 CER | 주요 원인 |
|-----------|------|------|----------|-----------|
| 치환 (Substitution) | 5 | 35.7% | 12.5% | 텍스트 완전 덮임, 대소문자 혼동 |
| 삭제 (Deletion) | 6 | 42.9% | 8.2% | 구두점 누락, 조사 탈락 |
| 삽입 (Insertion) | 3 | 21.4% | 15.3% | 과분할, 중복 |
| **합계** | **14** | **100%** | **4.70%** | - |

**위치**: Section 7.2 (오류 분석)

---

### Table 10: 기존 연구와의 비교

**제목**: Performance Comparison with Baseline and Related Work

| 방법 | OCR 정확도 | CER | 처리 시간 | 특징 |
|------|------------|-----|-----------|------|
| Tesseract 기본 | 75.17% | 24.83% | 0.52초 | 기본 설정 |
| **본 시스템** | **95.30%** | **4.70%** | **0.82초** | **한국어 특화 후처리** |
| EasyOCR | 82.5% | 17.5% | 1.25초 | 딥러닝 기반 |
| PaddleOCR | 88.3% | 11.7% | 0.85초 | 딥러닝 기반 |
| Google Cloud Vision | 96.8% | 3.2% | 0.35초 (API) | 클라우드 API |

**위치**: Section 7.4 (기존 연구와의 비교)

---

## 🎨 그림/표 생성 가이드

### 그림 생성 도구
- **다이어그램**: draw.io, Lucidchart, PowerPoint
- **그래프**: Matplotlib, Seaborn (Python)
- **3D 시각화**: Plotly, Mayavi
- **이미지 주석**: OpenCV, PIL, Photoshop

### 스타일 가이드
- **폰트**: Arial, Times New Roman (10-12pt)
- **색상**: 색맹 친화적 팔레트 (Colorblind-safe)
- **해상도**: 최소 300 DPI
- **포맷**: PNG (투명 배경), PDF (벡터)
- **크기**: Single column (8.5cm), Full width (17.5cm)

### 캡션 작성 규칙
- **형식**: "Figure X: [영문 제목]. [상세 설명]"
- **위치**: 그림 하단, 표 상단
- **폰트**: 본문보다 1pt 작게
- **번호**: 순차적 자동 번호 매기기

---

**총 그림 수**: 10개
**총 표 수**: 10개
**예상 페이지**: 논문 전체 20-25페이지 중 그림/표가 약 8-10페이지 차지
