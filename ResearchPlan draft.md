# 컴퓨터 비전 기반 문서 하이라이트 텍스트 자동 추출 시스템

## 1. 연구 배경 및 필요성

학생과 연구자들은 학습 및 연구 과정에서 중요한 내용에 형광펜으로 하이라이트를 표시한다. 그러나 이렇게 표시된 중요 내용을 디지털화하여 정리하는 과정은 여전히 수동으로 이루어지고 있다. 기존 OCR 기술은 문서의 전체 텍스트를 추출할 수 있지만, 하이라이트된 부분만을 선별적으로 추출하는 연구는 미비하다. 본 연구는 OpenCV 기반 컴퓨터 비전 기술과 OCR을 결합하여 스캔된 문서에서 하이라이트된 텍스트만을 자동으로 추출하는 시스템을 개발한다.

## 2. 연구 목표

**주요 목표**: 형광펜으로 표시된 문서를 촬영/스캔한 이미지에서 하이라이트된 텍스트만을 자동으로 추출하는 프로토타입 시스템 개발

**세부 목표**:
- 다양한 색상(노랑, 초록, 분홍)의 하이라이트 영역 자동 감지 (mIoU > 0.75)
- OCR 기반 텍스트 추출 및 하이라이트 영역과의 매칭 (CER < 5%)
- End-to-End 정확도 80% 이상 달성

## 3. 연구 방법

### 3.1 시스템 파이프라인
```
이미지 입력 → 전처리 → 하이라이트 영역 감지 → OCR 텍스트 추출 
→ IoU 기반 영역 매칭 → 하이라이트 텍스트 출력
```

### 3.2 핵심 기술
- **하이라이트 감지**: HSV 색공간 변환 및 색상 범위 기반 마스크 생성, 모폴로지 연산
- **텍스트 추출**: Tesseract OCR을 이용한 바운딩 박스 및 텍스트 인식
- **영역 매칭**: Intersection over Union(IoU) 메트릭을 활용한 하이라이트-텍스트 영역 매칭

### 3.3 합성 데이터셋 생성
학습용 데이터가 아닌 **평가용 데이터셋** 구축:
- PIL/OpenCV 기반 텍스트 이미지 자동 생성 (100-200장)
- 프로그래밍 방식으로 하이라이트 오버레이 (투명도, 불규칙성 조절)
- Ground Truth annotation 자동 생성 (bbox, text, color)
- Albumentations를 통한 데이터 증강 (조명, 회전, 노이즈 등)

## 4. 평가 방법

### 4.1 평가 지표
| 구분 | 지표 | 목표 값 |
|------|------|---------|
| **하이라이트 감지** | mIoU, Precision, Recall, F1-Score | mIoU > 0.75 |
| **OCR 성능** | CER, WER | CER < 5% |
| **통합 성능** | End-to-End Accuracy, F1-Score | Accuracy > 80% |

### 4.2 실험 설계
- 데이터 분할: Validation 30%, Test 70%
- 파라미터 튜닝: HSV 색상 범위, IoU 임계값, 모폴로지 커널 크기
- 비교 실험: 색상별, 조명별, 텍스트 밀도별 성능 분석

## 5. 기대 효과

**학술적 기여**:
- 하이라이트 영역 감지와 텍스트 추출을 결합한 실용적 시스템 제시
- 합성 데이터 자동 생성 파이프라인을 통한 평가 방법론 제안

**실용적 가치**:
- 학생의 학습 노트 디지털화 자동화
- 연구자의 논문 리뷰 주요 내용 자동 정리
- 문서 관리 시스템의 중요 정보 추출 모듈로 활용

## 6. 연구 일정 (8주)

| 주차 | 내용 |
|------|------|
| 1-2주 | 합성 데이터셋 생성 시스템 구현 (200장) |
| 3-4주 | 하이라이트 감지 및 OCR 모듈 개발 |
| 5-6주 | 통합 시스템 구축 및 파라미터 최적화 |
| 7주 | 성능 평가 및 실패 사례 분석 |
| 8주 | 결과 정리 및 보고서 작성 |

## 7. 참고문헌

- Tan, R.T., et al. (2004). "Separating Reflection Components Based on Chromaticity and Noise Analysis." IEEE TPAMI.
- Rafael C. (2021). "Evaluate OCR Output Quality with Character Error Rate and Word Error Rate." Towards Data Science.
- Rezatofighi, H., et al. (2019). "Generalized Intersection over Union: A Metric and A Loss for Bounding Box Regression." CVPR.
